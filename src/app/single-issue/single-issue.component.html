<div class="center">
  <div class="row-cols-1">
    <mat-card >
      <mat-card-subtitle align="end">Created by: {{issue.firstName}} {{issue.lastName}}</mat-card-subtitle>
      <mat-card-subtitle align="end">Status: {{issue.issueStatus}}</mat-card-subtitle>
      <mat-card-title>{{issue.title}}
        <mat-card-subtitle></mat-card-subtitle>
        <mat-card-subtitle>created at: {{issue.createdAt}}</mat-card-subtitle>
        <mat-card-subtitle>updated at: {{issue.updatedAt}}</mat-card-subtitle>
      </mat-card-title>
      <mat-divider inset></mat-divider>
      <mat-card-subtitle></mat-card-subtitle>
      <mat-card-content>
        <p>Description:</p>
        <p>{{issue.issue}}</p>
      </mat-card-content>
      <mat-divider inset></mat-divider>
      <mat-divider inset></mat-divider>
      <mat-form-field>
        <mat-label>Status type</mat-label>
        <mat-select [(ngModel)]="status">
          <mat-option  *ngFor="let statusType of statusTypes" [value]="statusType">
            {{statusType}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-button (click)="openDialogForStatus()">Change status</button>
      <mat-card-actions align="end">
        <button mat-button (click)="openDialogForComment()">Add comment</button>
        <button mat-button (click)="joinChat()">Join chat</button>
      </mat-card-actions>
    </mat-card>
  </div>
  <mat-grid-list cols="2" rowHeight="50px"></mat-grid-list>
  <mat-accordion>
    <mat-expansion-panel expanded>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Comments
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="group-rom" *ngFor="let cmt of comments">
        <div [ngClass]="checkForStatusChangeInfoComment(cmt)  ? 'first-part bot' : 'first-part odd'"> {{cmt.fullName}}</div>
        <div class="second-part">{{cmt.content}}
        </div>
        <div class="third-part">{{cmt.createdAt}}</div>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Chat logs
        </mat-panel-title>
        <mat-panel-description>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="group-rom" *ngFor="let msg of chatMessages">
        <div class="first-part odd"> {{msg.senderName}}</div>
        <div class="second-part">{{msg.message}}
        </div>
        <div class="third-part">{{msg.createdDateTime}}</div>
        <div class="img-space">
          <ng-container *ngIf="msg.file;">
            <img [src]="msg.file" style="width: 150px;height:150px;"/>
          </ng-container>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
<!--<mat-card class="center">-->
<!--  <mat-card-title>Chat logs</mat-card-title>-->
<!--  <mat-divider inset></mat-divider>-->
<!--  <mat-card-subtitle></mat-card-subtitle>-->
<!--  <mat-card-content>-->
<!--    <p>This card indeterminates progress bar.</p>-->
<!--    <p>{{issue.issue}}</p>-->
<!--  </mat-card-content>-->
<!--  <mat-divider inset></mat-divider>-->
<!--  <mat-divider inset></mat-divider>-->
<!--  <mat-divider inset></mat-divider>-->
<!--  <mat-card-actions>-->
<!--    <button mat-button>Add comment</button>-->
<!--    <button mat-button>Join to chat</button>-->
<!--  </mat-card-actions>-->
<!--</mat-card>-->
